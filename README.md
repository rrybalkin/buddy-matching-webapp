# BuddyMatch 🚀

> **🤖 AI-Generated Project**: This repository was fully generated by using Cursor IDE with AI Agent during the AI Vibe Coding Hackathon.

A comprehensive web application designed to help HR and veteran employees coordinate buddy matches for newcomers, supporting onboarding and integration while ensuring fair distribution of buddy responsibilities.

## 🌟 Features

### Core Features
- **Buddy Profile Creation**: Veteran employees can volunteer by creating detailed profiles with location, unit, tech stack, and personal interests
- **HR-Driven Matching Workflow**: HR initiates buddy matches before newcomers' start dates
- **Smart Matching System**: Veterans can accept/reject match requests with load balancing
- **Advanced Search & Filter**: Filter buddy profiles by location, unit, tech stack, and interests
- **Real-time Messaging**: Integrated chat system for matched buddies and newcomers
- **Scheduling Support**: Optional intro meeting scheduling

### Additional Features
- **Relocation Buddy Support**: Help relocated employees settle into new offices
- **Office Buddy Support**: Connect existing employees who feel disconnected
- **Comprehensive Feedback System**: Post-match feedback to improve the program
- **Buddy Load Dashboard**: HR monitoring of buddy distribution and availability
- **Real-time Notifications**: Instant updates for matches, messages, and requests
- **Role-based Access Control**: Different interfaces for HR, Buddies, Newcomers, and other roles

## 🏗️ Architecture

### Tech Stack
- **Frontend**: React 18 + TypeScript + Vite + Tailwind CSS + React Query v3
- **Backend**: Node.js + Express + TypeScript + Prisma + PostgreSQL
- **Authentication**: JWT + bcryptjs
- **Real-time**: Socket.io for messaging
- **Database**: PostgreSQL 15 with Prisma ORM
- **Testing**: Jest + Playwright + Supertest
- **Deployment**: Docker + Docker Compose

### Architecture Diagram

![BuddyMatch Architecture](architecture-diagram.svg)

*This diagram shows the overall application architecture, including the frontend React components, backend API structure, database schema, real-time communication, and key user workflows.*

### Project Structure
```
BuddyMatch/
├── backend/                 # Node.js/Express API
│   ├── src/
│   │   ├── routes/         # API route handlers
│   │   ├── middleware/     # Authentication & error handling
│   │   ├── socket/         # Socket.io real-time handlers
│   │   ├── __tests__/      # Backend tests
│   │   └── index.ts        # Server entry point
│   ├── prisma/             # Database schema & migrations
│   ├── Dockerfile          # Backend Docker image
│   └── package.json
├── frontend/               # React application
│   ├── src/
│   │   ├── components/     # Reusable UI components
│   │   ├── pages/          # Page components
│   │   ├── contexts/       # React contexts
│   │   ├── hooks/          # Custom hooks
│   │   ├── lib/            # Utilities & API client
│   │   └── tests/          # Frontend tests
│   ├── public/             # Static assets
│   ├── Dockerfile          # Frontend Docker image
│   └── package.json
├── docs/                   # Documentation and user stories
├── docker-compose.yml      # Main development environment
├── docker-compose.dev.yml  # Development with hot reload
├── docker-compose.prod.yml # Production environment
├── env.example            # Environment variables template
├── test-users.txt         # Test account credentials
└── README.md
```

## 🚀 Quick Start

### Prerequisites
- Node.js 18+ 
- Docker & Docker Compose
- Git

### Option 1: Docker Development (Recommended)

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd BuddyMatch
   ```

2. **Start the development environment**
   ```bash
   docker-compose -f docker-compose.dev.yml up -d
   ```

3. **Set up the database**
   ```bash
   # Wait for services to start, then run:
   docker-compose -f docker-compose.dev.yml exec backend npm run db:setup
   docker-compose -f docker-compose.dev.yml exec backend npm run db:seed
   ```

4. **Access the application**
   - Frontend: http://localhost:3000
   - Backend API: http://localhost:3001
   - Database: localhost:5432

### Option 2: Local Development

1. **Clone and install dependencies**
   ```bash
   git clone <repository-url>
   cd BuddyMatch
   npm run install:all
   ```

2. **Set up environment variables**
   ```bash
   cp env.example .env
   # Edit .env with your configuration
   ```

3. **Start PostgreSQL and Redis**
   ```bash
   # Using Docker for databases
   docker-compose up postgres redis -d
   ```

4. **Set up the database**
   ```bash
   cd backend
   npm run db:setup
   npm run db:seed
   ```

5. **Start development servers**
   ```bash
   # From project root
   npm run dev
   ```

## 🧪 Test Accounts

The application comes with pre-seeded test accounts for development and testing purposes. Please refer to the `test-users.txt` file for the complete list of test accounts and their credentials.

**⚠️ Security Note**: The `test-users.txt` file contains sensitive credentials and should be:
- Added to `.gitignore` before pushing to a public repository
- Removed or secured in production environments
- Never committed to version control in production codebases

**Note**: These are development-only accounts. Change all default passwords before deploying to production.

## 📱 User Roles & Features

### HR Manager
- Create and manage buddy matches
- Filter and search buddy profiles
- Monitor buddy load distribution
- View feedback and analytics
- Manage user accounts

### Buddy (Volunteer)
- Create detailed buddy profiles with location, tech stack, and interests
- Accept/reject match requests from HR and other employees
- Manage availability and capacity (max buddies limit)
- Chat with matched newcomers and other employees
- Help newcomers settle into the company
- Support relocated employees with relocation needs
- Connect with existing employees seeking office connections
- Provide guidance and support through different request types
- Provide feedback on matches and interactions

### Newcomer
- View assigned buddy information
- Chat with assigned buddy
- Provide feedback after match period
- Update profile information

## 🔧 Development

### Backend Development

```bash
cd backend

# Install dependencies
npm install

# Generate Prisma client
npm run db:generate

# Run database migrations
npm run db:migrate

# Seed database with test data
npm run db:seed

# Start development server
npm run dev

# Open Prisma Studio
npm run db:studio
```

### Frontend Development

```bash
cd frontend

# Install dependencies
npm install

# Start development server
npm run dev

# Build for production
npm run build

# Preview production build
npm run preview
```

### Database Management

```bash
# Create new migration
cd backend
npx prisma migrate dev --name migration_name

# Reset database
npx prisma migrate reset

# Deploy migrations to production
npx prisma migrate deploy
```

## 🐳 Production Deployment

### Using Docker

1. **Build the application**
   ```bash
   docker build -t buddy-match .
   ```

2. **Run with Docker Compose**
   ```bash
   docker-compose -f docker-compose.prod.yml up -d
   ```

### Environment Variables

Create a `.env` file based on the `env.example` template:

```bash
cp env.example .env
```

Then edit the `.env` file with your production values:

```env
# Database
DATABASE_URL="postgresql://username:password@localhost:5432/buddymatch"

# Redis
REDIS_URL="redis://localhost:6379"

# JWT (CHANGE THIS IN PRODUCTION!)
JWT_SECRET="your-super-secret-jwt-key-change-in-production"

# Environment
NODE_ENV="production"

# Frontend
VITE_API_URL="https://your-api-domain.com"
```

**Important**: Always use strong, unique values for production deployments, especially for `JWT_SECRET` and database credentials.

## 📊 API Documentation

### Authentication Endpoints
- `POST /api/auth/register` - User registration (BUDDY role only)
- `POST /api/auth/login` - User login
- `GET /api/auth/me` - Get current user profile
- `PUT /api/auth/change-password` - Change user password

### User Management
- `GET /api/users/profile` - Get user profile
- `PUT /api/users/profile` - Update user profile
- `GET /api/users` - List all users (with filters)
- `PATCH /api/users/:id/status` - Update user status
- `GET /api/users/newcomers` - Get newcomers list (HR only)
- `POST /api/users/newcomers` - Create newcomer account (HR only)
- `GET /api/users/newcomers/:id/matches` - Get newcomer matches (HR only)
- `PATCH /api/users/newcomers/:id` - Update newcomer profile (HR only)

### Buddy Management
- `GET /api/buddies/me` - Get current user's buddy profile
- `GET /api/buddies` - List buddy profiles with filters
- `POST /api/buddies` - Create buddy profile
- `PUT /api/buddies/me` - Update own buddy profile
- `PUT /api/buddies/:id` - Update buddy profile
- `GET /api/buddies/dashboard` - HR buddy load dashboard

### Match Management
- `POST /api/matches` - Create buddy match (HR and BUDDY roles)
- `GET /api/matches` - Get user's matches
- `PATCH /api/matches/:id/respond` - Accept/reject match (BUDDY only)
- `GET /api/matches/:id/messages` - Get match messages
- `POST /api/matches/:id/messages` - Send message in match

### Messaging
- `GET /api/messages/match/:matchId` - Get match messages
- `POST /api/messages` - Send message
- `PATCH /api/messages/read` - Mark messages as read

### Feedback
- `POST /api/feedback` - Submit match feedback
- `GET /api/feedback/match/:matchId` - Get match feedback
- `GET /api/feedback/match/:matchId/all` - Get all feedback for match
- `GET /api/feedback/stats` - Feedback statistics (HR only)

### Notifications
- `GET /api/notifications` - Get user notifications
- `PATCH /api/notifications/:id/read` - Mark notification as read
- `PATCH /api/notifications/read-all` - Mark all notifications as read
- `GET /api/notifications/unread-count` - Get unread notification count

### Requests
- `POST /api/requests` - Create support request (RELOCATION_SUPPORT, OFFICE_CONNECTION)
- `GET /api/requests/my-requests` - Get user's requests
- `GET /api/requests` - Get all requests (HR only)
- `PATCH /api/requests/:id/status` - Update request status (HR only)

## 🤝 Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## 📝 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 🆘 Support

For support and questions:
- Create an issue in the repository
- Contact the development team
- Check the documentation

## 🔮 Future Enhancements

- [ ] Mobile app (React Native)
- [ ] Advanced analytics dashboard
- [ ] Integration with HR systems
- [ ] Video call scheduling
- [ ] Multi-language support
- [ ] Advanced matching algorithms
- [ ] Calendar integration
- [ ] Email notifications
- [ ] Admin panel for system management

---

**Built with ❤️ for better workplace connections**
